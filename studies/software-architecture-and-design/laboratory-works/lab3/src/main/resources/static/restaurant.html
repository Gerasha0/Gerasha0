<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üçï –°–º–∞—á–Ω–∞ –î–æ—Å—Ç–∞–≤–∫–∞ - –ù–∞–π–∫—Ä–∞—â–∞ —ó–∂–∞ –≤ –º—ñ—Å—Ç—ñ!</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f8f9fa;
        }
        
        .header {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            padding: 40px 0;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.3em;
            opacity: 0.9;
        }
        
        .hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 60px 0;
            text-align: center;
        }
        
        .hero h2 {
            font-size: 2.5em;
            margin-bottom: 20px;
        }
        
        .hero p {
            font-size: 1.2em;
            margin-bottom: 30px;
        }
        
        .cta-button {
            display: inline-block;
            background: #ff6b6b;
            color: white;
            padding: 15px 40px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: bold;
            font-size: 1.1em;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        }
        
        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.6);
        }
        
        .menu-section {
            padding: 60px 0;
            background: white;
        }
        
        .section-title {
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 50px;
            color: #333;
        }
        
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        
        .menu-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .menu-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }
        
        .menu-card-header {
            padding: 25px;
            color: white;
            text-align: center;
            font-weight: bold;
            font-size: 1.3em;
        }
        
        .first-course { background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); }
        .second-course { background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%); }
        .salads { background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); }
        .desserts { background: linear-gradient(135deg, #d299c2 0%, #fef9d7 100%); }
        .drinks { background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%); }
        
        .menu-card-content {
            padding: 25px;
        }
        
        .dish-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }
        
        .dish-item:last-child {
            border-bottom: none;
        }
        
        .dish-info h4 {
            color: #333;
            margin-bottom: 5px;
            font-size: 1.1em;
        }
        
        .dish-info p {
            color: #666;
            font-size: 0.9em;
        }
        
        .dish-price {
            font-weight: bold;
            color: #ff6b6b;
            font-size: 1.2em;
        }
        
        .order-button {
            background: #10ac84;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: background 0.3s ease;
            margin-left: 10px;
        }
        
        .order-button:hover {
            background: #0e9570;
        }
        
        .features {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 60px 0;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        
        .feature-card {
            text-align: center;
            padding: 30px;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        
        .feature-icon {
            font-size: 3em;
            margin-bottom: 20px;
        }
        
        .footer {
            background: #2c3e50;
            color: white;
            padding: 40px 0;
            text-align: center;
        }
        
        .tech-info {
            background: #f8f9fa;
            padding: 40px 0;
            border-top: 3px solid #ff6b6b;
        }
        
        .tech-info h3 {
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .tech-stack {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }
        
        .tech-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }
        
        @media (max-width: 768px) {
            .header h1 { font-size: 2em; }
            .hero h2 { font-size: 1.8em; }
            .section-title { font-size: 2em; }
            .menu-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <h1>üçï –°–º–∞—á–Ω–∞ –î–æ—Å—Ç–∞–≤–∫–∞</h1>
            <p>–ù–∞–π–∫—Ä–∞—â–∞ —ó–∂–∞ –≤ –º—ñ—Å—Ç—ñ –∑ –¥–æ—Å—Ç–∞–≤–∫–æ—é –¥–æ –¥–æ–º—É!</p>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <h2>–ì–æ—Ç—É—î–º–æ –∑ –ª—é–±–æ–≤'—é, –¥–æ—Å—Ç–∞–≤–ª—è—î–º–æ —à–≤–∏–¥–∫–æ!</h2>
            <p>–°–ø—Ä–æ–±—É–π—Ç–µ –Ω–∞—à—ñ —Ñ—ñ—Ä–º–æ–≤—ñ —Å—Ç—Ä–∞–≤–∏ –≤—ñ–¥ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏—Ö –∫—É—Ö–∞—Ä—ñ–≤</p>
            <a href="#menu" class="cta-button">üçΩÔ∏è –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –º–µ–Ω—é</a>
        </div>
    </section>

    <section id="menu" class="menu-section">
        <div class="container">
            <h2 class="section-title">üçΩÔ∏è –ù–∞—à–µ –º–µ–Ω—é</h2>
            
            <!-- –ü–∞–Ω–µ–ª—å –ø–æ—à—É–∫—É —Ç–∞ —Ñ—ñ–ª—å—Ç—Ä—ñ–≤ -->
            <div style="background: white; border-radius: 15px; padding: 25px; margin-bottom: 30px; box-shadow: 0 5px 15px rgba(0,0,0,0.08);">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-bottom: 15px;">
                    <div>
                        <label style="display: block; margin-bottom: 8px; font-weight: bold; color: #333;">üîç –ü–æ—à—É–∫ —Å—Ç—Ä–∞–≤–∏</label>
                        <input type="text" id="searchInput" placeholder="–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É —Å—Ç—Ä–∞–≤–∏..."
                               style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 1em;"
                               oninput="filterDishes()">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 8px; font-weight: bold; color: #333;">üí∞ –ú—ñ–Ω. —Ü—ñ–Ω–∞ (‚Ç¥)</label>
                        <input type="number" id="minPrice" placeholder="0" value="0"
                               style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 1em;"
                               oninput="filterDishes()">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 8px; font-weight: bold; color: #333;">üí∞ –ú–∞–∫—Å. —Ü—ñ–Ω–∞ (‚Ç¥)</label>
                        <input type="number" id="maxPrice" placeholder="1000" value="1000"
                               style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 1em;"
                               oninput="filterDishes()">
                    </div>
                </div>
                <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                    <button onclick="filterDishes()" style="padding: 10px 20px; background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">
                        –ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä–∏
                    </button>
                    <button onclick="resetFilters()" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">
                        –°–∫–∏–Ω—É—Ç–∏
                    </button>
                    <button onclick="openComplexLunchModal()" style="padding: 10px 20px; background: linear-gradient(135deg, #f093fb, #f5576c); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">
                        üç± –ö–æ–º–ø–ª–µ–∫—Å–Ω–∏–π –æ–±—ñ–¥
                    </button>
                    <button onclick="openOrderHistoryModal()" style="padding: 10px 20px; background: linear-gradient(135deg, #10ac84, #0e9570); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">
                        üìú –ú–æ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
                    </button>
                    <button onclick="openAdminPanel()" style="padding: 10px 20px; background: linear-gradient(135deg, #5f27cd, #341f97); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">
                        ‚öôÔ∏è –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
                    </button>
                </div>
            </div>

            <div class="menu-grid" id="menuGrid">
                <!-- –ú–µ–Ω—é –±—É–¥–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ –¥–∏–Ω–∞–º—ñ—á–Ω–æ -->
            </div>
        </div>
    </section>

    <section class="features">
        <div class="container">
            <h2 class="section-title">üåü –ß–æ–º—É –æ–±–∏—Ä–∞—é—Ç—å –Ω–∞—Å?</h2>
            
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">‚ö°</div>
                    <h3>–®–≤–∏–¥–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∞</h3>
                    <p>–î–æ—Å—Ç–∞–≤–ª—è—î–º–æ –ø—Ä–æ—Ç—è–≥–æ–º 30-45 —Ö–≤–∏–ª–∏–Ω —É –±—É–¥—å-—è–∫–∏–π –∫—É—Ç–æ—á–æ–∫ –º—ñ—Å—Ç–∞</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">ü•ò</div>
                    <h3>–°–≤—ñ–∂—ñ –ø—Ä–æ–¥—É–∫—Ç–∏</h3>
                    <p>–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Ç—ñ–ª—å–∫–∏ –Ω–∞–π—Å–≤—ñ–∂—ñ—à—ñ —Ç–∞ —è–∫—ñ—Å–Ω—ñ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üë®‚Äçüç≥</div>
                    <h3>–î–æ—Å–≤—ñ–¥—á–µ–Ω—ñ –∫—É—Ö–∞—Ä—ñ</h3>
                    <p>–ù–∞—à—ñ —à–µ—Ñ-–∫—É—Ö–∞—Ä—ñ –º–∞—é—Ç—å –±–∞–≥–∞—Ç–æ—Ä—ñ—á–Ω–∏–π –¥–æ—Å–≤—ñ–¥ —É —Ä–µ—Å—Ç–æ—Ä–∞–Ω–Ω—ñ–π —Å–ø—Ä–∞–≤—ñ</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üí≥</div>
                    <h3>–ó—Ä—É—á–Ω–∞ –æ–ø–ª–∞—Ç–∞</h3>
                    <p>–ü—Ä–∏–π–º–∞—î–º–æ –≥–æ—Ç—ñ–≤–∫—É —Ç–∞ –±–∞–Ω–∫—ñ–≤—Å—å–∫—ñ –∫–∞—Ä—Ç–∫–∏ –ø—Ä–∏ –¥–æ—Å—Ç–∞–≤—Ü—ñ</p>
                </div>
            </div>
        </div>
    </section>

    <section class="tech-info">
        <div class="container">
            <h3>üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –≤ –ø—Ä–æ–µ–∫—Ç—ñ</h3>
            <p style="text-align: center; color: #666; margin-bottom: 20px;">
                –¶–µ–π —Å–∞–π—Ç —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –≤ —Ä–∞–º–∫–∞—Ö –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –∑ –±–∞–≥–∞—Ç–æ—Ä—ñ–≤–Ω–µ–≤–æ—ó –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏
            </p>
            <div class="tech-stack">
                <span class="tech-badge">‚òï Java 17</span>
                <span class="tech-badge">üöÄ Spring Boot 3.2</span>
                <span class="tech-badge">üóÑÔ∏è Spring Data JPA</span>
                <span class="tech-badge">üåê REST API</span>
                <span class="tech-badge">üîß Maven</span>
                <span class="tech-badge">üìÑ JSON</span>
                <span class="tech-badge">üé® HTML5/CSS3</span>
                <span class="tech-badge">‚ö° JavaScript ES6</span>
                <span class="tech-badge">üîó Dependency Injection</span>
                <span class="tech-badge">üèóÔ∏è Multi-layer Architecture</span>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 –°–º–∞—á–Ω–∞ –î–æ—Å—Ç–∞–≤–∫–∞. –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ –∑ –±–∞–≥–∞—Ç–æ—Ä—ñ–≤–Ω–µ–≤–æ—ó –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏.</p>
            <p style="margin-top: 10px; opacity: 0.8;">
                üìû +380 (50) 123-45-67 | üìß info@delivery.com | üè† –î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –≤—Å—å–æ–º—É –º—ñ—Å—Ç—É
            </p>
        </div>
    </footer>

    <!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –∫–æ—à–∏–∫–∞ -->
    <div id="cartModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1000; align-items: center; justify-content: center;">
        <div style="background: white; border-radius: 20px; padding: 30px; max-width: 600px; width: 90%; max-height: 80vh; overflow-y: auto;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h2 style="margin: 0;">üõí –í–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>
                <button onclick="closeCart()" style="background: none; border: none; font-size: 24px; cursor: pointer;">‚úï</button>
            </div>
            <div id="cartItems"></div>
            <div style="margin-top: 20px; padding-top: 20px; border-top: 2px solid #eee;">
                <div style="display: flex; justify-content: space-between; font-size: 1.3em; font-weight: bold; margin-bottom: 20px;">
                    <span>–ó–∞–≥–∞–ª—å–Ω–∞ —Å—É–º–∞:</span>
                    <span id="cartTotal">0 ‚Ç¥</span>
                </div>
                <div style="margin-bottom: 15px;">
                    <input type="text" id="customerName" placeholder="–í–∞—à–µ —ñ–º'—è" required style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 1em; margin-bottom: 10px;">
                    <input type="tel" id="customerPhone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω +380..." required style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 1em; margin-bottom: 10px;">
                    <input type="text" id="customerAddress" placeholder="–ê–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏" required style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 1em;">
                </div>
                <button onclick="submitOrder()" style="width: 100%; padding: 15px; background: linear-gradient(135deg, #ff6b6b, #ee5a24); color: white; border: none; border-radius: 10px; font-size: 1.1em; font-weight: bold; cursor: pointer; transition: all 0.3s;">
                    üì¶ –û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
                </button>
            </div>
        </div>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∞ –∫–æ—à–∏–∫–∞ (–ø–ª–∞–≤–∞—é—á–∞) -->
    <div id="cartButton" style="position: fixed; bottom: 30px; right: 30px; background: linear-gradient(135deg, #ff6b6b, #ee5a24); color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px; cursor: pointer; box-shadow: 0 4px 15px rgba(0,0,0,0.3); z-index: 999;" onclick="openCart()">
        üõí
        <span id="cartCount" style="position: absolute; top: -5px; right: -5px; background: #fff; color: #ff6b6b; border-radius: 50%; width: 25px; height: 25px; display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: bold;">0</span>
    </div>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ
        let cart = [];
        let allDishes = [];

        // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–µ–Ω—é –∑ API
        async function loadMenu() {
            try {
                const response = await fetch('/api/dishes');
                allDishes = await response.json();
                
                displayDishes(allDishes);
                
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–µ–Ω—é:', error);
                document.getElementById('menuGrid').innerHTML = `
                    <div style="text-align: center; color: #666; grid-column: 1 / -1;">
                        <h3>üòî –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–µ–Ω—é</h3>
                        <p>–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑'—î–¥–Ω–∞–Ω–Ω—è –∑ —Å–µ—Ä–≤–µ—Ä–æ–º</p>
                    </div>
                `;
            }
        }

        // –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å—Ç—Ä–∞–≤
        function displayDishes(dishes) {
            const dishTypes = {
                'FIRST_COURSE': { name: 'üç≤ –ü–µ—Ä—à—ñ —Å—Ç—Ä–∞–≤–∏', class: 'first-course', dishes: [] },
                'SECOND_COURSE': { name: 'üçñ –î—Ä—É–≥—ñ —Å—Ç—Ä–∞–≤–∏', class: 'second-course', dishes: [] },
                'SALAD': { name: 'ü•ó –°–∞–ª–∞—Ç–∏', class: 'salads', dishes: [] },
                'DESSERT': { name: 'üç∞ –î–µ—Å–µ—Ä—Ç–∏', class: 'desserts', dishes: [] },
                'DRINK': { name: 'ü•§ –ù–∞–ø–æ—ó', class: 'drinks', dishes: [] },
                'APPETIZER': { name: 'ü•ô –ó–∞–∫—É—Å–∫–∏', class: 'appetizers', dishes: [] }
            };
            
            dishes.forEach(dish => {
                if (dishTypes[dish.dishType]) {
                    dishTypes[dish.dishType].dishes.push(dish);
                }
            });
            
            const menuGrid = document.getElementById('menuGrid');
            menuGrid.innerHTML = '';
            
            Object.values(dishTypes).forEach(category => {
                if (category.dishes.length > 0) {
                    const card = document.createElement('div');
                    card.className = 'menu-card';
                    
                    card.innerHTML = `
                        <div class="menu-card-header ${category.class}">
                            ${category.name}
                        </div>
                        <div class="menu-card-content">
                            ${category.dishes.map(dish => `
                                <div class="dish-item">
                                    <div class="dish-info">
                                        <h4>${dish.name}</h4>
                                        <p>${dish.description}</p>
                                        ${!dish.available ? '<span style="color: red; font-size: 0.9em;">–ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ</span>' : ''}
                                    </div>
                                    <div style="display: flex; align-items: center; gap: 10px;">
                                        <span class="dish-price">${dish.price} ‚Ç¥</span>
                                        <button class="order-button" onclick="addToCart(${dish.id})" ${!dish.available ? 'disabled' : ''}>
                                            üõí –î–æ–¥–∞—Ç–∏
                                        </button>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    `;
                    
                    menuGrid.appendChild(card);
                }
            });
        }

        // –î–æ–¥–∞—Ç–∏ —Å—Ç—Ä–∞–≤—É –≤ –∫–æ—à–∏–∫
        function addToCart(dishId) {
            const dish = allDishes.find(d => d.id === dishId);
            if (!dish) return;

            const existingItem = cart.find(item => item.dish.id === dishId);
            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({ dish: dish, quantity: 1 });
            }
            
            updateCartUI();
            showNotification(`‚úÖ ${dish.name} –¥–æ–¥–∞–Ω–æ –≤ –∫–æ—à–∏–∫!`);
        }

        // –û–Ω–æ–≤–∏—Ç–∏ UI –∫–æ—à–∏–∫–∞
        function updateCartUI() {
            const cartCount = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cartCount').textContent = cartCount;
        }

        // –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–æ—à–∏–∫
        function openCart() {
            if (cart.length === 0) {
                showNotification('‚ö†Ô∏è –ö–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π! –î–æ–¥–∞–π—Ç–µ —Å—Ç—Ä–∞–≤–∏ –∑ –º–µ–Ω—é.');
                return;
            }

            const cartModal = document.getElementById('cartModal');
            const cartItems = document.getElementById('cartItems');
            
            cartItems.innerHTML = cart.map((item, index) => `
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 15px; border-bottom: 1px solid #eee;">
                    <div style="flex: 1;">
                        <strong>${item.dish.name}</strong><br>
                        <span style="color: #666;">${item.dish.price} ‚Ç¥ √ó ${item.quantity}</span>
                    </div>
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <button onclick="changeQuantity(${index}, -1)" style="width: 30px; height: 30px; border-radius: 50%; border: 2px solid #ff6b6b; background: white; color: #ff6b6b; cursor: pointer;">‚àí</button>
                        <span style="font-weight: bold; min-width: 30px; text-align: center;">${item.quantity}</span>
                        <button onclick="changeQuantity(${index}, 1)" style="width: 30px; height: 30px; border-radius: 50%; border: 2px solid #ff6b6b; background: white; color: #ff6b6b; cursor: pointer;">+</button>
                        <button onclick="removeFromCart(${index})" style="background: #dc3545; color: white; border: none; padding: 8px 12px; border-radius: 5px; cursor: pointer;">ÔøΩÔ∏è</button>
                    </div>
                </div>
            `).join('');
            
            const total = cart.reduce((sum, item) => sum + (item.dish.price * item.quantity), 0);
            document.getElementById('cartTotal').textContent = total.toFixed(2) + ' ‚Ç¥';
            
            cartModal.style.display = 'flex';
        }

        // –ó–∞–∫—Ä–∏—Ç–∏ –∫–æ—à–∏–∫
        function closeCart() {
            document.getElementById('cartModal').style.display = 'none';
        }

        // –ó–º—ñ–Ω–∏—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å
        function changeQuantity(index, change) {
            cart[index].quantity += change;
            if (cart[index].quantity <= 0) {
                cart.splice(index, 1);
            }
            updateCartUI();
            openCart();
        }

        // –í–∏–¥–∞–ª–∏—Ç–∏ –∑ –∫–æ—à–∏–∫–∞
        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCartUI();
            if (cart.length === 0) {
                closeCart();
            } else {
                openCart();
            }
        }

        // –û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
        async function submitOrder() {
            const name = document.getElementById('customerName').value.trim();
            const phone = document.getElementById('customerPhone').value.trim();
            const address = document.getElementById('customerAddress').value.trim();

            if (!name || !phone || !address) {
                showNotification('‚ö†Ô∏è –ó–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è!');
                return;
            }

            const orderData = {
                customerName: name,
                customerPhone: phone,
                deliveryAddress: address,
                orderType: 'DELIVERY',
                orderItems: cart.map(item => ({
                    dish: { id: item.dish.id },
                    quantity: item.quantity,
                    unitPrice: item.dish.price
                }))
            };

            try {
                const response = await fetch('/api/orders', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(orderData)
                });

                if (response.ok) {
                    const order = await response.json();
                    showNotification(`üéâ –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è ‚Ññ${order.id} —É—Å–ø—ñ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–æ!\n\n–°—É–º–∞: ${order.totalAmount} ‚Ç¥\n–û—á—ñ–∫—É–π—Ç–µ –¥–∑–≤—ñ–Ω–∫–∞ –≤—ñ–¥ –º–µ–Ω–µ–¥–∂–µ—Ä–∞!`);
                    cart = [];
                    updateCartUI();
                    closeCart();
                    
                    // –û—á–∏—Å—Ç–∏—Ç–∏ —Ñ–æ—Ä–º—É
                    document.getElementById('customerName').value = '';
                    document.getElementById('customerPhone').value = '';
                    document.getElementById('customerAddress').value = '';
                } else {
                    const error = await response.text();
                    showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è: ' + error);
                }
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
                showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑\'—î–¥–Ω–∞–Ω–Ω—è –∑ —Å–µ—Ä–≤–µ—Ä–æ–º');
            }
        }

        // –ü–æ–∫–∞–∑–∞—Ç–∏ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: white;
                padding: 20px;
                border-radius: 10px;
                box-shadow: 0 4px 20px rgba(0,0,0,0.3);
                z-index: 10000;
                max-width: 300px;
                animation: slideIn 0.3s ease;
            `;
            notification.innerHTML = `<div style="white-space: pre-line;">${message}</div>`;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è —Å—Ç—Ä–∞–≤
        function filterDishes() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const minPrice = parseFloat(document.getElementById('minPrice').value) || 0;
            const maxPrice = parseFloat(document.getElementById('maxPrice').value) || 1000000;

            const filteredDishes = allDishes.filter(dish => {
                const matchesSearch = dish.name.toLowerCase().includes(searchTerm) ||
                                     dish.description.toLowerCase().includes(searchTerm);
                const matchesPrice = dish.price >= minPrice && dish.price <= maxPrice;
                return matchesSearch && matchesPrice;
            });

            displayDishes(filteredDishes);

            if (filteredDishes.length === 0) {
                document.getElementById('menuGrid').innerHTML = `
                    <div style="text-align: center; color: #666; grid-column: 1 / -1; padding: 40px;">
                        <h3>üòî –ù—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ</h3>
                        <p>–°–ø—Ä–æ–±—É–π—Ç–µ –∑–º—ñ–Ω–∏—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –ø–æ—à—É–∫—É</p>
                    </div>
                `;
            }
        }

        // –°–∫–∏–Ω—É—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä–∏
        function resetFilters() {
            document.getElementById('searchInput').value = '';
            document.getElementById('minPrice').value = '0';
            document.getElementById('maxPrice').value = '1000';
            displayDishes(allDishes);
        }

        // –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –æ–±—ñ–¥—É
        function openComplexLunchModal() {
            const modal = document.createElement('div');
            modal.id = 'complexLunchModal';
            modal.style.cssText = 'display: flex; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1000; align-items: center; justify-content: center;';

            const firstCourses = allDishes.filter(d => d.dishType === 'FIRST_COURSE' && d.available);
            const secondCourses = allDishes.filter(d => d.dishType === 'SECOND_COURSE' && d.available);
            const salads = allDishes.filter(d => d.dishType === 'SALAD' && d.available);
            const drinks = allDishes.filter(d => d.dishType === 'DRINK' && d.available);

            modal.innerHTML = `
                <div style="background: white; border-radius: 20px; padding: 30px; max-width: 600px; width: 90%; max-height: 80vh; overflow-y: auto;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h2 style="margin: 0;">üç± –ö–æ–º–ø–ª–µ–∫—Å–Ω–∏–π –æ–±—ñ–¥</h2>
                        <button onclick="closeComplexLunchModal()" style="background: none; border: none; font-size: 24px; cursor: pointer;">‚úï</button>
                    </div>

                    <p style="color: #666; margin-bottom: 20px;">–û–±–µ—Ä—ñ—Ç—å —Å—Ç—Ä–∞–≤–∏ –¥–ª—è –≤–∞—à–æ–≥–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –æ–±—ñ–¥—É –∑—ñ –∑–Ω–∏–∂–∫–æ—é!</p>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; font-weight: bold; margin-bottom: 8px;">üç≤ –ü–µ—Ä—à–∞ —Å—Ç—Ä–∞–≤–∞:</label>
                        <select id="firstCourseSelect" style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px;">
                            <option value="">-- –û–±–µ—Ä—ñ—Ç—å --</option>
                            ${firstCourses.map(d => `<option value="${d.id}">${d.name} (${d.price} ‚Ç¥)</option>`).join('')}
                        </select>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; font-weight: bold; margin-bottom: 8px;">üçñ –î—Ä—É–≥–∞ —Å—Ç—Ä–∞–≤–∞:</label>
                        <select id="secondCourseSelect" style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px;">
                            <option value="">-- –û–±–µ—Ä—ñ—Ç—å --</option>
                            ${secondCourses.map(d => `<option value="${d.id}">${d.name} (${d.price} ‚Ç¥)</option>`).join('')}
                        </select>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <label style="display: block; font-weight: bold; margin-bottom: 8px;">ü•ó –°–∞–ª–∞—Ç:</label>
                        <select id="saladSelect" style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px;">
                            <option value="">-- –û–±–µ—Ä—ñ—Ç—å --</option>
                            ${salads.map(d => `<option value="${d.id}">${d.name} (${d.price} ‚Ç¥)</option>`).join('')}
                        </select>
                    </div>

                    <div style="margin-bottom: 20px;">
                        <label style="display: block; font-weight: bold; margin-bottom: 8px;">ü•§ –ù–∞–ø—ñ–π:</label>
                        <select id="drinkSelect" style="width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px;">
                            <option value="">-- –û–±–µ—Ä—ñ—Ç—å --</option>
                            ${drinks.map(d => `<option value="${d.id}">${d.name} (${d.price} ‚Ç¥)</option>`).join('')}
                        </select>
                    </div>

                    <div style="margin-bottom: 15px;">
                        <input type="text" id="clName" placeholder="–í–∞—à–µ —ñ–º'—è" style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; margin-bottom: 10px;">
                        <input type="tel" id="clPhone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω +380..." style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; margin-bottom: 10px;">
                        <input type="text" id="clAddress" placeholder="–ê–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏" style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px;">
                    </div>

                    <button onclick="submitComplexLunch()" style="width: 100%; padding: 15px; background: linear-gradient(135deg, #f093fb, #f5576c); color: white; border: none; border-radius: 10px; font-size: 1.1em; font-weight: bold; cursor: pointer;">
                        üç± –ó–∞–º–æ–≤–∏—Ç–∏ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏–π –æ–±—ñ–¥
                    </button>
                </div>
            `;

            document.body.appendChild(modal);

            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeComplexLunchModal();
                }
            });
        }

        function closeComplexLunchModal() {
            const modal = document.getElementById('complexLunchModal');
            if (modal) modal.remove();
        }

        async function submitComplexLunch() {
            const firstCourseId = document.getElementById('firstCourseSelect').value;
            const secondCourseId = document.getElementById('secondCourseSelect').value;
            const saladId = document.getElementById('saladSelect').value;
            const drinkId = document.getElementById('drinkSelect').value;
            const name = document.getElementById('clName').value.trim();
            const phone = document.getElementById('clPhone').value.trim();
            const address = document.getElementById('clAddress').value.trim();

            if (!firstCourseId || !secondCourseId || !saladId || !drinkId) {
                showNotification('‚ö†Ô∏è –û–±–µ—Ä—ñ—Ç—å –≤—Å—ñ —Å—Ç—Ä–∞–≤–∏ –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –æ–±—ñ–¥—É!');
                return;
            }

            if (!name || !phone || !address) {
                showNotification('‚ö†Ô∏è –ó–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –æ—Å–æ–±–∏—Å—Ç—ñ –¥–∞–Ω—ñ!');
                return;
            }

            const complexLunchData = {
                customerName: name,
                customerPhone: phone,
                deliveryAddress: address,
                firstCourseId: parseInt(firstCourseId),
                secondCourseId: parseInt(secondCourseId),
                saladId: parseInt(saladId),
                drinkId: parseInt(drinkId)
            };

            try {
                const response = await fetch('/api/orders/complex-lunch', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(complexLunchData)
                });

                if (response.ok) {
                    const order = await response.json();
                    showNotification(`üéâ –ö–æ–º–ø–ª–µ–∫—Å–Ω–∏–π –æ–±—ñ–¥ ‚Ññ${order.id} —É—Å–ø—ñ—à–Ω–æ –∑–∞–º–æ–≤–ª–µ–Ω–æ!\n\n–°—É–º–∞ –∑—ñ –∑–Ω–∏–∂–∫–æ—é: ${order.totalAmount} ‚Ç¥\n–û—á—ñ–∫—É–π—Ç–µ –¥–∑–≤—ñ–Ω–∫–∞!`);
                    closeComplexLunchModal();
                } else {
                    const error = await response.text();
                    showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞: ' + error);
                }
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
                showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑\'—î–¥–Ω–∞–Ω–Ω—è –∑ —Å–µ—Ä–≤–µ—Ä–æ–º');
            }
        }

        // –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ —ñ—Å—Ç–æ—Ä—ñ—ó –∑–∞–º–æ–≤–ª–µ–Ω—å
        function openOrderHistoryModal() {
            const modal = document.createElement('div');
            modal.id = 'orderHistoryModal';
            modal.style.cssText = 'display: flex; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1000; align-items: center; justify-content: center;';

            modal.innerHTML = `
                <div style="background: white; border-radius: 20px; padding: 30px; max-width: 700px; width: 90%; max-height: 80vh; overflow-y: auto;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h2 style="margin: 0;">üìú –ú–æ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>
                        <button onclick="closeOrderHistoryModal()" style="background: none; border: none; font-size: 24px; cursor: pointer;">‚úï</button>
                    </div>

                    <div style="margin-bottom: 20px;">
                        <input type="tel" id="historyPhone" placeholder="–í–≤–µ–¥—ñ—Ç—å –≤–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω +380..."
                               style="width: calc(100% - 120px); padding: 12px; border: 2px solid #ddd; border-radius: 8px; font-size: 1em;">
                        <button onclick="loadOrderHistory()" style="width: 110px; padding: 12px; background: #10ac84; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; margin-left: 10px;">
                            –ü–æ—à—É–∫
                        </button>
                    </div>

                    <div id="orderHistoryContent">
                        <p style="text-align: center; color: #666;">–í–≤–µ–¥—ñ—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É —ñ—Å—Ç–æ—Ä—ñ—ó –∑–∞–º–æ–≤–ª–µ–Ω—å</p>
                    </div>
                </div>
            `;

            document.body.appendChild(modal);

            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeOrderHistoryModal();
                }
            });
        }

        function closeOrderHistoryModal() {
            const modal = document.getElementById('orderHistoryModal');
            if (modal) modal.remove();
        }

        async function loadOrderHistory() {
            const phone = document.getElementById('historyPhone').value.trim();
            const content = document.getElementById('orderHistoryContent');

            if (!phone) {
                showNotification('‚ö†Ô∏è –í–≤–µ–¥—ñ—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É!');
                return;
            }

            content.innerHTML = '<p style="text-align: center;">‚è≥ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</p>';

            try {
                const response = await fetch(`/api/orders/by-customer?phone=${encodeURIComponent(phone)}`);

                if (response.ok) {
                    const orders = await response.json();

                    if (orders.length === 0) {
                        content.innerHTML = '<p style="text-align: center; color: #666;">üì≠ –ó–∞–º–æ–≤–ª–µ–Ω—å –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ</p>';
                        return;
                    }

                    const statusColors = {
                        'PENDING': '#ffc107',
                        'CONFIRMED': '#17a2b8',
                        'PREPARING': '#fd7e14',
                        'DELIVERING': '#007bff',
                        'DELIVERED': '#28a745',
                        'CANCELLED': '#dc3545'
                    };

                    const statusNames = {
                        'PENDING': '–û—á—ñ–∫—É—î',
                        'CONFIRMED': '–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ',
                        'PREPARING': '–ì–æ—Ç—É—î—Ç—å—Å—è',
                        'DELIVERING': '–î–æ—Å—Ç–∞–≤–ª—è—î—Ç—å—Å—è',
                        'DELIVERED': '–î–æ—Å—Ç–∞–≤–ª–µ–Ω–æ',
                        'CANCELLED': '–°–∫–∞—Å–æ–≤–∞–Ω–æ'
                    };

                    content.innerHTML = orders.map(order => `
                        <div style="border: 2px solid #eee; border-radius: 10px; padding: 15px; margin-bottom: 15px;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                                <strong style="font-size: 1.1em;">–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è ‚Ññ${order.id}</strong>
                                <span style="background: ${statusColors[order.orderStatus]}; color: white; padding: 5px 12px; border-radius: 15px; font-size: 0.9em;">
                                    ${statusNames[order.orderStatus] || order.orderStatus}
                                </span>
                            </div>
                            <p style="color: #666; margin-bottom: 5px;">üìÖ ${new Date(order.orderDateTime).toLocaleString('uk-UA')}</p>
                            <p style="color: #666; margin-bottom: 5px;">üìç ${order.deliveryAddress}</p>
                            <p style="color: #666; margin-bottom: 10px;">üíµ –°—É–º–∞: <strong>${order.totalAmount} ‚Ç¥</strong></p>
                            <div style="background: #f8f9fa; padding: 10px; border-radius: 8px;">
                                <strong>–°—Ç—Ä–∞–≤–∏:</strong>
                                ${order.orderItems.map(item => `
                                    <div style="margin-top: 5px;">‚Ä¢ ${item.dish.name} √ó ${item.quantity} = ${item.unitPrice * item.quantity} ‚Ç¥</div>
                                `).join('')}
                            </div>
                        </div>
                    `).join('');
                } else {
                    content.innerHTML = '<p style="text-align: center; color: #dc3545;">‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è</p>';
                }
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
                content.innerHTML = '<p style="text-align: center; color: #dc3545;">‚ùå –ü–æ–º–∏–ª–∫–∞ –∑\'—î–¥–Ω–∞–Ω–Ω—è –∑ —Å–µ—Ä–≤–µ—Ä–æ–º</p>';
            }
        }

        // –ü–ª–∞–≤–Ω–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –¥–æ –º–µ–Ω—é
        document.querySelector('a[href="#menu"]').addEventListener('click', function(e) {
            e.preventDefault();
            document.getElementById('menu').scrollIntoView({
                behavior: 'smooth'
            });
        });

        // –ó–∞–∫—Ä–∏—Ç—Ç—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –≤—ñ–∫–Ω–∞ –ø–æ –∫–ª—ñ–∫—É –ø–æ–∑–∞ –Ω–∏–º
        document.getElementById('cartModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeCart();
            }
        });

        // –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ –º–µ–Ω—é –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
        document.addEventListener('DOMContentLoaded', loadMenu);

        // ============= –ê–î–ú–Ü–ù-–ü–ê–ù–ï–õ–¨ - –í–°–Ü–ô –í–Ü–î–°–£–¢–ù–Ü API =============

        // –í—ñ–¥–∫—Ä–∏—Ç–∏ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
        function openAdminPanel() {
            const modal = document.createElement('div');
            modal.id = 'adminPanelModal';
            modal.style.cssText = 'display: flex; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; align-items: center; justify-content: center; overflow-y: auto;';

            modal.innerHTML = `
                <div style="background: white; border-radius: 20px; padding: 30px; max-width: 1000px; width: 95%; max-height: 90vh; overflow-y: auto; margin: 20px;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; border-bottom: 3px solid #5f27cd; padding-bottom: 15px;">
                        <h2 style="margin: 0; color: #5f27cd;">‚öôÔ∏è –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å</h2>
                        <button onclick="closeAdminPanel()" style="background: none; border: none; font-size: 28px; cursor: pointer; color: #5f27cd;">‚úï</button>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 30px;">
                        <button onclick="adminShowAllOrders()" style="padding: 15px; background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: bold;">
                            üìã –í—Å—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
                        </button>
                        <button onclick="adminShowOrdersByStatus()" style="padding: 15px; background: linear-gradient(135deg, #f093fb, #f5576c); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: bold;">
                            üîç –§—ñ–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É
                        </button>
                        <button onclick="adminShowDishManagement()" style="padding: 15px; background: linear-gradient(135deg, #10ac84, #0e9570); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: bold;">
                            üçΩÔ∏è –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å—Ç—Ä–∞–≤–∞–º–∏
                        </button>
                        <button onclick="adminShowOrderManagement()" style="padding: 15px; background: linear-gradient(135deg, #ff6b6b, #ee5a24); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: bold;">
                            üì¶ –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º–∏
                        </button>
                    </div>

                    <div id="adminContent" style="min-height: 300px;">
                        <div style="text-align: center; padding: 50px; color: #666;">
                            <h3>üëÜ –û–±–µ—Ä—ñ—Ç—å —Ä–æ–∑–¥—ñ–ª –¥–ª—è —Ä–æ–±–æ—Ç–∏</h3>
                            <p>–¢—É—Ç –≤–∏ –º–æ–∂–µ—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç–∏ –≤—Å—ñ–º–∞ –∞—Å–ø–µ–∫—Ç–∞–º–∏ —Å–∏—Å—Ç–µ–º–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ —ó–∂—ñ</p>
                        </div>
                    </div>
                </div>
            `;

            document.body.appendChild(modal);
        }

        function closeAdminPanel() {
            const modal = document.getElementById('adminPanelModal');
            if (modal) modal.remove();
        }

        // 1. –ü–æ–∫–∞–∑–∞—Ç–∏ –≤—Å—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è (GET /api/orders)
        async function adminShowAllOrders() {
            const content = document.getElementById('adminContent');
            content.innerHTML = '<p style="text-align: center;">‚è≥ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</p>';

            try {
                const response = await fetch('/api/orders');
                if (response.ok) {
                    const orders = await response.json();
                    displayOrdersList(orders, '–í—Å—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –≤ —Å–∏—Å—Ç–µ–º—ñ');
                } else {
                    content.innerHTML = '<p style="text-align: center; color: red;">‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è</p>';
                }
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
                content.innerHTML = '<p style="text-align: center; color: red;">‚ùå –ü–æ–º–∏–ª–∫–∞ –∑\'—î–¥–Ω–∞–Ω–Ω—è</p>';
            }
        }

        // 2. –§—ñ–ª—å—Ç—Ä –∑–∞–º–æ–≤–ª–µ–Ω—å –ø–æ —Å—Ç–∞—Ç—É—Å—É (GET /api/orders/by-status/{status})
        function adminShowOrdersByStatus() {
            const content = document.getElementById('adminContent');
            content.innerHTML = `
                <h3 style="margin-bottom: 20px;">üîç –§—ñ–ª—å—Ç—Ä –∑–∞–º–æ–≤–ª–µ–Ω—å –∑–∞ —Å—Ç–∞—Ç—É—Å–æ–º</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; margin-bottom: 20px;">
                    <button onclick="loadOrdersByStatus('PENDING')" style="padding: 12px; background: #ffc107; color: #333; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">–û—á—ñ–∫—É—î</button>
                    <button onclick="loadOrdersByStatus('CONFIRMED')" style="padding: 12px; background: #17a2b8; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ</button>
                    <button onclick="loadOrdersByStatus('PREPARING')" style="padding: 12px; background: #fd7e14; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">–ì–æ—Ç—É—î—Ç—å—Å—è</button>
                    <button onclick="loadOrdersByStatus('DELIVERING')" style="padding: 12px; background: #007bff; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">–î–æ—Å—Ç–∞–≤–ª—è—î—Ç—å—Å—è</button>
                    <button onclick="loadOrdersByStatus('DELIVERED')" style="padding: 12px; background: #28a745; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">–î–æ—Å—Ç–∞–≤–ª–µ–Ω–æ</button>
                    <button onclick="loadOrdersByStatus('CANCELLED')" style="padding: 12px; background: #dc3545; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">–°–∫–∞—Å–æ–≤–∞–Ω–æ</button>
                </div>
                <div id="statusOrdersResult"></div>
            `;
        }

        async function loadOrdersByStatus(status) {
            const result = document.getElementById('statusOrdersResult');
            result.innerHTML = '<p style="text-align: center;">‚è≥ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</p>';

            try {
                const response = await fetch(`/api/orders/by-status/${status}`);
                if (response.ok) {
                    const orders = await response.json();
                    if (orders.length === 0) {
                        result.innerHTML = `<p style="text-align: center; color: #666;">–ù–µ–º–∞—î –∑–∞–º–æ–≤–ª–µ–Ω—å –∑—ñ —Å—Ç–∞—Ç—É—Å–æ–º "${status}"</p>`;
                    } else {
                        result.innerHTML = generateOrdersHTML(orders);
                    }
                } else {
                    result.innerHTML = '<p style="text-align: center; color: red;">‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è</p>';
                }
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
                result.innerHTML = '<p style="text-align: center; color: red;">‚ùå –ü–æ–º–∏–ª–∫–∞ –∑\'—î–¥–Ω–∞–Ω–Ω—è</p>';
            }
        }

        // 3. –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å—Ç—Ä–∞–≤–∞–º–∏
        function adminShowDishManagement() {
            const content = document.getElementById('adminContent');
            content.innerHTML = `
                <h3 style="margin-bottom: 20px;">üçΩÔ∏è –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å—Ç—Ä–∞–≤–∞–º–∏</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin-bottom: 20px;">
                    <button onclick="adminShowAddDishForm()" style="padding: 12px; background: #28a745; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">‚ûï –î–æ–¥–∞—Ç–∏ —Å—Ç—Ä–∞–≤—É</button>
                    <button onclick="adminShowEditDishForm()" style="padding: 12px; background: #17a2b8; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ —Å—Ç—Ä–∞–≤—É</button>
                    <button onclick="adminShowToggleAvailability()" style="padding: 12px; background: #ffc107; color: #333; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">üîÑ –ó–º—ñ–Ω–∏—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å</button>
                    <button onclick="adminShowDeleteDish()" style="padding: 12px; background: #dc3545; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏ —Å—Ç—Ä–∞–≤—É</button>
                    <button onclick="adminShowDishById()" style="padding: 12px; background: #6c757d; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">üîé –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∑–∞ ID</button>
                    <button onclick="adminShowDishesByType()" style="padding: 12px; background: #fd7e14; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">üìÇ –°—Ç—Ä–∞–≤–∏ –∑–∞ —Ç–∏–ø–æ–º</button>
                </div>
                <div id="dishManagementResult"></div>
            `;
        }

        // POST /api/dishes - –î–æ–¥–∞—Ç–∏ –Ω–æ–≤—É —Å—Ç—Ä–∞–≤—É
        function adminShowAddDishForm() {
            const result = document.getElementById('dishManagementResult');
            result.innerHTML = `
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px;">
                    <h4>‚ûï –î–æ–¥–∞—Ç–∏ –Ω–æ–≤—É —Å—Ç—Ä–∞–≤—É</h4>
                    <input type="text" id="newDishName" placeholder="–ù–∞–∑–≤–∞ —Å—Ç—Ä–∞–≤–∏" style="width: 100%; padding: 10px; margin: 5px 0; border: 2px solid #ddd; border-radius: 5px;">
                    <textarea id="newDishDescription" placeholder="–û–ø–∏—Å —Å—Ç—Ä–∞–≤–∏" style="width: 100%; padding: 10px; margin: 5px 0; border: 2px solid #ddd; border-radius: 5px; min-height: 80px;"></textarea>
                    <input type="number" id="newDishPrice" placeholder="–¶—ñ–Ω–∞" step="0.01" style="width: 100%; padding: 10px; margin: 5px 0; border: 2px solid #ddd; border-radius: 5px;">
                    <select id="newDishType" style="width: 100%; padding: 10px; margin: 5px 0; border: 2px solid #ddd; border-radius: 5px;">
                        <option value="">-- –û–±–µ—Ä—ñ—Ç—å —Ç–∏–ø —Å—Ç—Ä–∞–≤–∏ --</option>
                        <option value="FIRST_COURSE">–ü–µ—Ä—à–∞ —Å—Ç—Ä–∞–≤–∞</option>
                        <option value="SECOND_COURSE">–î—Ä—É–≥–∞ —Å—Ç—Ä–∞–≤–∞</option>
                        <option value="SALAD">–°–∞–ª–∞—Ç</option>
                        <option value="DESSERT">–î–µ—Å–µ—Ä—Ç</option>
                        <option value="DRINK">–ù–∞–ø—ñ–π</option>
                        <option value="APPETIZER">–ó–∞–∫—É—Å–∫–∞</option>
                    </select>
                    <label style="display: block; margin: 10px 0;">
                        <input type="checkbox" id="newDishAvailable" checked> –î–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
                    </label>
                    <button onclick="submitNewDish()" style="width: 100%; padding: 12px; background: #28a745; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; margin-top: 10px;">–°—Ç–≤–æ—Ä–∏—Ç–∏ —Å—Ç—Ä–∞–≤—É</button>
                </div>
            `;
        }

        async function submitNewDish() {
            const dishData = {
                name: document.getElementById('newDishName').value.trim(),
                description: document.getElementById('newDishDescription').value.trim(),
                price: parseFloat(document.getElementById('newDishPrice').value),
                dishType: document.getElementById('newDishType').value,
                available: document.getElementById('newDishAvailable').checked
            };

            if (!dishData.name || !dishData.description || !dishData.price || !dishData.dishType) {
                showNotification('‚ö†Ô∏è –ó–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è!');
                return;
            }

            try {
                const response = await fetch('/api/dishes', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(dishData)
                });

                if (response.ok) {
                    const dish = await response.json();
                    showNotification(`‚úÖ –°—Ç—Ä–∞–≤—É "${dish.name}" —É—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ! ID: ${dish.id}`);
                    await loadMenu(); // –û–Ω–æ–≤–∏—Ç–∏ –º–µ–Ω—é
                    adminShowAddDishForm(); // –û—á–∏—Å—Ç–∏—Ç–∏ —Ñ–æ—Ä–º—É
                } else {
                    showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å—Ç—Ä–∞–≤–∏');
                }
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
                showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑\'—î–¥–Ω–∞–Ω–Ω—è');
            }
        }

        // PUT /api/dishes/{id} - –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ —Å—Ç—Ä–∞–≤—É
        function adminShowEditDishForm() {
            const result = document.getElementById('dishManagementResult');
            result.innerHTML = `
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px;">
                    <h4>‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ —Å—Ç—Ä–∞–≤—É</h4>
                    <input type="number" id="editDishId" placeholder="ID —Å—Ç—Ä–∞–≤–∏" style="width: 100%; padding: 10px; margin: 5px 0; border: 2px solid #ddd; border-radius: 5px;">
                    <button onclick="loadDishForEdit()" style="width: 100%; padding: 10px; background: #17a2b8; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; margin-bottom: 15px;">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –¥–∞–Ω—ñ</button>
                    <div id="editDishFormFields"></div>
                </div>
            `;
        }

        async function loadDishForEdit() {
            const dishId = document.getElementById('editDishId').value;
            if (!dishId) {
                showNotification('‚ö†Ô∏è –í–≤–µ–¥—ñ—Ç—å ID —Å—Ç—Ä–∞–≤–∏!');
                return;
            }

            try {
                const response = await fetch(`/api/dishes/${dishId}`);
                if (response.ok) {
                    const dish = await response.json();
                    document.getElementById('editDishFormFields').innerHTML = `
                        <input type="text" id="editDishName" value="${dish.name}" placeholder="–ù–∞–∑–≤–∞" style="width: 100%; padding: 10px; margin: 5px 0; border: 2px solid #ddd; border-radius: 5px;">
                        <textarea id="editDishDescription" placeholder="–û–ø–∏—Å" style="width: 100%; padding: 10px; margin: 5px 0; border: 2px solid #ddd; border-radius: 5px; min-height: 80px;">${dish.description}</textarea>
                        <input type="number" id="editDishPrice" value="${dish.price}" step="0.01" style="width: 100%; padding: 10px; margin: 5px 0; border: 2px solid #ddd; border-radius: 5px;">
                        <select id="editDishType" style="width: 100%; padding: 10px; margin: 5px 0; border: 2px solid #ddd; border-radius: 5px;">
                            <option value="FIRST_COURSE" ${dish.dishType === 'FIRST_COURSE' ? 'selected' : ''}>–ü–µ—Ä—à–∞ —Å—Ç—Ä–∞–≤–∞</option>
                            <option value="SECOND_COURSE" ${dish.dishType === 'SECOND_COURSE' ? 'selected' : ''}>–î—Ä—É–≥–∞ —Å—Ç—Ä–∞–≤–∞</option>
                            <option value="SALAD" ${dish.dishType === 'SALAD' ? 'selected' : ''}>–°–∞–ª–∞—Ç</option>
                            <option value="DESSERT" ${dish.dishType === 'DESSERT' ? 'selected' : ''}>–î–µ—Å–µ—Ä—Ç</option>
                            <option value="DRINK" ${dish.dishType === 'DRINK' ? 'selected' : ''}>–ù–∞–ø—ñ–π</option>
                            <option value="APPETIZER" ${dish.dishType === 'APPETIZER' ? 'selected' : ''}>–ó–∞–∫—É—Å–∫–∞</option>
                        </select>
                        <label style="display: block; margin: 10px 0;">
                            <input type="checkbox" id="editDishAvailable" ${dish.available ? 'checked' : ''}> –î–æ—Å—Ç—É–ø–Ω–∞
                        </label>
                        <button onclick="submitEditDish(${dish.id})" style="width: 100%; padding: 12px; background: #17a2b8; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; margin-top: 10px;">–û–Ω–æ–≤–∏—Ç–∏ —Å—Ç—Ä–∞–≤—É</button>
                    `;
                } else {
                    showNotification('‚ùå –°—Ç—Ä–∞–≤—É –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ');
                }
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
                showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è');
            }
        }

        async function submitEditDish(dishId) {
            const dishData = {
                name: document.getElementById('editDishName').value.trim(),
                description: document.getElementById('editDishDescription').value.trim(),
                price: parseFloat(document.getElementById('editDishPrice').value),
                dishType: document.getElementById('editDishType').value,
                available: document.getElementById('editDishAvailable').checked
            };

            try {
                const response = await fetch(`/api/dishes/${dishId}`, {
                    method: 'PUT',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(dishData)
                });

                if (response.ok) {
                    showNotification(`‚úÖ –°—Ç—Ä–∞–≤—É #${dishId} —É—Å–ø—ñ—à–Ω–æ –æ–Ω–æ–≤–ª–µ–Ω–æ!`);
                    await loadMenu();
                } else {
                    showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è');
                }
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
                showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑\'—î–¥–Ω–∞–Ω–Ω—è');
            }
        }

        // PUT /api/dishes/{id}/toggle-availability - –ó–º—ñ–Ω–∏—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å
        function adminShowToggleAvailability() {
            const result = document.getElementById('dishManagementResult');
            result.innerHTML = `
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px;">
                    <h4>üîÑ –ó–º—ñ–Ω–∏—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å —Å—Ç—Ä–∞–≤–∏</h4>
                    <input type="number" id="toggleDishId" placeholder="ID —Å—Ç—Ä–∞–≤–∏" style="width: 100%; padding: 10px; margin: 5px 0; border: 2px solid #ddd; border-radius: 5px;">
                    <button onclick="toggleDishAvailability()" style="width: 100%; padding: 12px; background: #ffc107; color: #333; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; margin-top: 10px;">–ó–º—ñ–Ω–∏—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å</button>
                </div>
            `;
        }

        async function toggleDishAvailability() {
            const dishId = document.getElementById('toggleDishId').value;
            if (!dishId) {
                showNotification('‚ö†Ô∏è –í–≤–µ–¥—ñ—Ç—å ID —Å—Ç—Ä–∞–≤–∏!');
                return;
            }

            try {
                const response = await fetch(`/api/dishes/${dishId}/toggle-availability`, {
                    method: 'PUT'
                });

                if (response.ok) {
                    showNotification(`‚úÖ –î–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å —Å—Ç—Ä–∞–≤–∏ #${dishId} –∑–º—ñ–Ω–µ–Ω–æ!`);
                    await loadMenu();
                } else {
                    showNotification('‚ùå –°—Ç—Ä–∞–≤—É –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ');
                }
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
                showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑\'—î–¥–Ω–∞–Ω–Ω—è');
            }
        }

        // DELETE /api/dishes/{id} - –í–∏–¥–∞–ª–∏—Ç–∏ —Å—Ç—Ä–∞–≤—É
        function adminShowDeleteDish() {
            const result = document.getElementById('dishManagementResult');
            result.innerHTML = `
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px;">
                    <h4>üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏ —Å—Ç—Ä–∞–≤—É</h4>
                    <input type="number" id="deleteDishId" placeholder="ID —Å—Ç—Ä–∞–≤–∏" style="width: 100%; padding: 10px; margin: 5px 0; border: 2px solid #ddd; border-radius: 5px;">
                    <button onclick="deleteDish()" style="width: 100%; padding: 12px; background: #dc3545; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; margin-top: 10px;">–í–∏–¥–∞–ª–∏—Ç–∏ —Å—Ç—Ä–∞–≤—É</button>
                </div>
            `;
        }

        async function deleteDish() {
            const dishId = document.getElementById('deleteDishId').value;
            if (!dishId) {
                showNotification('‚ö†Ô∏è –í–≤–µ–¥—ñ—Ç—å ID —Å—Ç—Ä–∞–≤–∏!');
                return;
            }

            if (!confirm(`–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —Å—Ç—Ä–∞–≤—É #${dishId}?`)) {
                return;
            }

            try {
                const response = await fetch(`/api/dishes/${dishId}`, {
                    method: 'DELETE'
                });

                if (response.ok || response.status === 204) {
                    showNotification(`‚úÖ –°—Ç—Ä–∞–≤—É #${dishId} –≤–∏–¥–∞–ª–µ–Ω–æ!`);
                    await loadMenu();
                } else {
                    showNotification('‚ùå –°—Ç—Ä–∞–≤—É –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ');
                }
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
                showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑\'—î–¥–Ω–∞–Ω–Ω—è');
            }
        }

        // GET /api/dishes/{id} - –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Å—Ç—Ä–∞–≤—É –∑–∞ ID
        function adminShowDishById() {
            const result = document.getElementById('dishManagementResult');
            result.innerHTML = `
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px;">
                    <h4>üîé –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Å—Ç—Ä–∞–≤—É –∑–∞ ID</h4>
                    <input type="number" id="viewDishId" placeholder="ID —Å—Ç—Ä–∞–≤–∏" style="width: 100%; padding: 10px; margin: 5px 0; border: 2px solid #ddd; border-radius: 5px;">
                    <button onclick="viewDishById()" style="width: 100%; padding: 12px; background: #6c757d; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; margin-top: 10px;">–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏</button>
                    <div id="viewDishResult" style="margin-top: 15px;"></div>
                </div>
            `;
        }

        async function viewDishById() {
            const dishId = document.getElementById('viewDishId').value;
            if (!dishId) {
                showNotification('‚ö†Ô∏è –í–≤–µ–¥—ñ—Ç—å ID —Å—Ç—Ä–∞–≤–∏!');
                return;
            }

            try {
                const response = await fetch(`/api/dishes/${dishId}`);
                if (response.ok) {
                    const dish = await response.json();
                    document.getElementById('viewDishResult').innerHTML = `
                        <div style="background: white; padding: 15px; border-radius: 8px; border: 2px solid #ddd;">
                            <h4>${dish.name}</h4>
                            <p><strong>ID:</strong> ${dish.id}</p>
                            <p><strong>–û–ø–∏—Å:</strong> ${dish.description}</p>
                            <p><strong>–¶—ñ–Ω–∞:</strong> ${dish.price} ‚Ç¥</p>
                            <p><strong>–¢–∏–ø:</strong> ${dish.dishType}</p>
                            <p><strong>–î–æ—Å—Ç—É–ø–Ω–∞:</strong> ${dish.available ? '‚úÖ –¢–∞–∫' : '‚ùå –ù—ñ'}</p>
                        </div>
                    `;
                } else {
                    showNotification('‚ùå –°—Ç—Ä–∞–≤—É –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ');
                }
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
                showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑\'—î–¥–Ω–∞–Ω–Ω—è');
            }
        }

        // GET /api/dishes/by-type/{dishType} - –°—Ç—Ä–∞–≤–∏ –∑–∞ —Ç–∏–ø–æ–º
        function adminShowDishesByType() {
            const result = document.getElementById('dishManagementResult');
            result.innerHTML = `
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px;">
                    <h4>üìÇ –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Å—Ç—Ä–∞–≤–∏ –∑–∞ —Ç–∏–ø–æ–º</h4>
                    <select id="dishTypeSelect" style="width: 100%; padding: 10px; margin: 5px 0; border: 2px solid #ddd; border-radius: 5px;">
                        <option value="">-- –û–±–µ—Ä—ñ—Ç—å —Ç–∏–ø --</option>
                        <option value="FIRST_COURSE">–ü–µ—Ä—à—ñ —Å—Ç—Ä–∞–≤–∏</option>
                        <option value="SECOND_COURSE">–î—Ä—É–≥—ñ —Å—Ç—Ä–∞–≤–∏</option>
                        <option value="SALAD">–°–∞–ª–∞—Ç–∏</option>
                        <option value="DESSERT">–î–µ—Å–µ—Ä—Ç–∏</option>
                        <option value="DRINK">–ù–∞–ø–æ—ó</option>
                        <option value="APPETIZER">–ó–∞–∫—É—Å–∫–∏</option>
                    </select>
                    <button onclick="viewDishesByType()" style="width: 100%; padding: 12px; background: #fd7e14; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; margin-top: 10px;">–ü–æ–∫–∞–∑–∞—Ç–∏</button>
                    <div id="dishesByTypeResult" style="margin-top: 15px;"></div>
                </div>
            `;
        }

        async function viewDishesByType() {
            const dishType = document.getElementById('dishTypeSelect').value;
            if (!dishType) {
                showNotification('‚ö†Ô∏è –û–±–µ—Ä—ñ—Ç—å —Ç–∏–ø —Å—Ç—Ä–∞–≤–∏!');
                return;
            }

            try {
                const response = await fetch(`/api/dishes/by-type/${dishType}`);
                if (response.ok) {
                    const dishes = await response.json();
                    const result = document.getElementById('dishesByTypeResult');
                    if (dishes.length === 0) {
                        result.innerHTML = '<p style="text-align: center; color: #666;">–°—Ç—Ä–∞–≤ —Ü—å–æ–≥–æ —Ç–∏–ø—É –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ</p>';
                    } else {
                        result.innerHTML = dishes.map(dish => `
                            <div style="background: white; padding: 10px; border-radius: 8px; border: 1px solid #ddd; margin-bottom: 10px;">
                                <strong>${dish.name}</strong> (ID: ${dish.id}) - ${dish.price} ‚Ç¥
                                ${dish.available ? '‚úÖ' : '‚ùå'}
                            </div>
                        `).join('');
                    }
                } else {
                    showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è');
                }
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
                showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑\'—î–¥–Ω–∞–Ω–Ω—è');
            }
        }

        // 4. –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º–∏
        function adminShowOrderManagement() {
            const content = document.getElementById('adminContent');
            content.innerHTML = `
                <h3 style="margin-bottom: 20px;">üì¶ –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º–∏</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin-bottom: 20px;">
                    <button onclick="adminShowOrderById()" style="padding: 12px; background: #6c757d; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">üîé –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∑–∞ ID</button>
                    <button onclick="adminShowUpdateOrderStatus()" style="padding: 12px; background: #17a2b8; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">üîÑ –ó–º—ñ–Ω–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å</button>
                    <button onclick="adminShowConfirmOrder()" style="padding: 12px; background: #28a745; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">‚úÖ –ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏</button>
                    <button onclick="adminShowCancelOrder()" style="padding: 12px; background: #dc3545; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">‚ùå –°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                    <button onclick="adminShowAddDishToOrder()" style="padding: 12px; background: #10ac84; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">‚ûï –î–æ–¥–∞—Ç–∏ —Å—Ç—Ä–∞–≤—É</button>
                    <button onclick="adminShowRemoveDishFromOrder()" style="padding: 12px; background: #fd7e14; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">‚ûñ –í–∏–¥–∞–ª–∏—Ç–∏ —Å—Ç—Ä–∞–≤—É</button>
                    <button onclick="adminShowDeleteOrder()" style="padding: 12px; background: #dc3545; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
                </div>
                <div id="orderManagementResult"></div>
            `;
        }

        // GET /api/orders/{id} - –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –∑–∞ ID
        function adminShowOrderById() {
            const result = document.getElementById('orderManagementResult');
            result.innerHTML = `
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px;">
                    <h4>üîé –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –∑–∞ ID</h4>
                    <input type="number" id="viewOrderId" placeholder="ID –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è" style="width: 100%; padding: 10px; margin: 5px 0; border: 2px solid #ddd; border-radius: 5px;">
                    <button onclick="viewOrderById()" style="width: 100%; padding: 12px; background: #6c757d; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; margin-top: 10px;">–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏</button>
                    <div id="viewOrderResult" style="margin-top: 15px;"></div>
                </div>
            `;
        }

        async function viewOrderById() {
            const orderId = document.getElementById('viewOrderId').value;
            if (!orderId) {
                showNotification('‚ö†Ô∏è –í–≤–µ–¥—ñ—Ç—å ID –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è!');
                return;
            }

            try {
                const response = await fetch(`/api/orders/${orderId}`);
                if (response.ok) {
                    const order = await response.json();
                    document.getElementById('viewOrderResult').innerHTML = generateOrderDetailHTML(order);
                } else {
                    showNotification('‚ùå –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ');
                }
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
                showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑\'—î–¥–Ω–∞–Ω–Ω—è');
            }
        }

        // PUT /api/orders/{id}/status/{status} - –û–Ω–æ–≤–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å
        function adminShowUpdateOrderStatus() {
            const result = document.getElementById('orderManagementResult');
            result.innerHTML = `
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px;">
                    <h4>üîÑ –ó–º—ñ–Ω–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h4>
                    <input type="number" id="updateStatusOrderId" placeholder="ID –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è" style="width: 100%; padding: 10px; margin: 5px 0; border: 2px solid #ddd; border-radius: 5px;">
                    <select id="newOrderStatus" style="width: 100%; padding: 10px; margin: 5px 0; border: 2px solid #ddd; border-radius: 5px;">
                        <option value="">-- –û–±–µ—Ä—ñ—Ç—å —Å—Ç–∞—Ç—É—Å --</option>
                        <option value="PENDING">–û—á—ñ–∫—É—î</option>
                        <option value="CONFIRMED">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ</option>
                        <option value="PREPARING">–ì–æ—Ç—É—î—Ç—å—Å—è</option>
                        <option value="DELIVERING">–î–æ—Å—Ç–∞–≤–ª—è—î—Ç—å—Å—è</option>
                        <option value="DELIVERED">–î–æ—Å—Ç–∞–≤–ª–µ–Ω–æ</option>
                        <option value="CANCELLED">–°–∫–∞—Å–æ–≤–∞–Ω–æ</option>
                    </select>
                    <button onclick="updateOrderStatus()" style="width: 100%; padding: 12px; background: #17a2b8; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; margin-top: 10px;">–û–Ω–æ–≤–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å</button>
                </div>
            `;
        }

        async function updateOrderStatus() {
            const orderId = document.getElementById('updateStatusOrderId').value;
            const status = document.getElementById('newOrderStatus').value;

            if (!orderId || !status) {
                showNotification('‚ö†Ô∏è –ó–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è!');
                return;
            }

            try {
                const response = await fetch(`/api/orders/${orderId}/status/${status}`, {
                    method: 'PUT'
                });

                if (response.ok) {
                    showNotification(`‚úÖ –°—Ç–∞—Ç—É—Å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è #${orderId} –æ–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ "${status}"!`);
                } else {
                    showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É');
                }
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
                showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑\'—î–¥–Ω–∞–Ω–Ω—è');
            }
        }

        // PUT /api/orders/{id}/confirm - –ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
        function adminShowConfirmOrder() {
            const result = document.getElementById('orderManagementResult');
            result.innerHTML = `
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px;">
                    <h4>‚úÖ –ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h4>
                    <input type="number" id="confirmOrderId" placeholder="ID –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è" style="width: 100%; padding: 10px; margin: 5px 0; border: 2px solid #ddd; border-radius: 5px;">
                    <button onclick="confirmOrder()" style="width: 100%; padding: 12px; background: #28a745; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; margin-top: 10px;">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏</button>
                </div>
            `;
        }

        async function confirmOrder() {
            const orderId = document.getElementById('confirmOrderId').value;
            if (!orderId) {
                showNotification('‚ö†Ô∏è –í–≤–µ–¥—ñ—Ç—å ID –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è!');
                return;
            }

            try {
                const response = await fetch(`/api/orders/${orderId}/confirm`, {
                    method: 'PUT'
                });

                if (response.ok) {
                    showNotification(`‚úÖ –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è #${orderId} –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ!`);
                } else {
                    showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è');
                }
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
                showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑\'—î–¥–Ω–∞–Ω–Ω—è');
            }
        }

        // PUT /api/orders/{id}/cancel - –°–∫–∞—Å—É–≤–∞—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
        function adminShowCancelOrder() {
            const result = document.getElementById('orderManagementResult');
            result.innerHTML = `
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px;">
                    <h4>‚ùå –°–∫–∞—Å—É–≤–∞—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h4>
                    <input type="number" id="cancelOrderId" placeholder="ID –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è" style="width: 100%; padding: 10px; margin: 5px 0; border: 2px solid #ddd; border-radius: 5px;">
                    <button onclick="cancelOrder()" style="width: 100%; padding: 12px; background: #dc3545; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; margin-top: 10px;">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                </div>
            `;
        }

        async function cancelOrder() {
            const orderId = document.getElementById('cancelOrderId').value;
            if (!orderId) {
                showNotification('‚ö†Ô∏è –í–≤–µ–¥—ñ—Ç—å ID –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è!');
                return;
            }

            if (!confirm(`–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ —Å–∫–∞—Å—É–≤–∞—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è #${orderId}?`)) {
                return;
            }

            try {
                const response = await fetch(`/api/orders/${orderId}/cancel`, {
                    method: 'PUT'
                });

                if (response.ok) {
                    showNotification(`‚úÖ –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è #${orderId} —Å–∫–∞—Å–æ–≤–∞–Ω–æ!`);
                } else {
                    showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è');
                }
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
                showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑\'—î–¥–Ω–∞–Ω–Ω—è');
            }
        }

        // POST /api/orders/{orderId}/dishes/{dishId} - –î–æ–¥–∞—Ç–∏ —Å—Ç—Ä–∞–≤—É –¥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
        function adminShowAddDishToOrder() {
            const result = document.getElementById('orderManagementResult');
            result.innerHTML = `
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px;">
                    <h4>‚ûï –î–æ–¥–∞—Ç–∏ —Å—Ç—Ä–∞–≤—É –¥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h4>
                    <input type="number" id="addDishOrderId" placeholder="ID –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è" style="width: 100%; padding: 10px; margin: 5px 0; border: 2px solid #ddd; border-radius: 5px;">
                    <input type="number" id="addDishDishId" placeholder="ID —Å—Ç—Ä–∞–≤–∏" style="width: 100%; padding: 10px; margin: 5px 0; border: 2px solid #ddd; border-radius: 5px;">
                    <input type="number" id="addDishQuantity" placeholder="–ö—ñ–ª—å–∫—ñ—Å—Ç—å" value="1" min="1" style="width: 100%; padding: 10px; margin: 5px 0; border: 2px solid #ddd; border-radius: 5px;">
                    <button onclick="addDishToOrder()" style="width: 100%; padding: 12px; background: #10ac84; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; margin-top: 10px;">–î–æ–¥–∞—Ç–∏ —Å—Ç—Ä–∞–≤—É</button>
                </div>
            `;
        }

        async function addDishToOrder() {
            const orderId = document.getElementById('addDishOrderId').value;
            const dishId = document.getElementById('addDishDishId').value;
            const quantity = document.getElementById('addDishQuantity').value;

            if (!orderId || !dishId || !quantity) {
                showNotification('‚ö†Ô∏è –ó–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è!');
                return;
            }

            try {
                const response = await fetch(`/api/orders/${orderId}/dishes/${dishId}?quantity=${quantity}`, {
                    method: 'POST'
                });

                if (response.ok) {
                    showNotification(`‚úÖ –°—Ç—Ä–∞–≤—É –¥–æ–¥–∞–Ω–æ –¥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è #${orderId}!`);
                } else {
                    showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Å—Ç—Ä–∞–≤–∏');
                }
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
                showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑\'—î–¥–Ω–∞–Ω–Ω—è');
            }
        }

        // DELETE /api/orders/{orderId}/dishes/{dishId} - –í–∏–¥–∞–ª–∏—Ç–∏ —Å—Ç—Ä–∞–≤—É –∑ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
        function adminShowRemoveDishFromOrder() {
            const result = document.getElementById('orderManagementResult');
            result.innerHTML = `
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px;">
                    <h4>‚ûñ –í–∏–¥–∞–ª–∏—Ç–∏ —Å—Ç—Ä–∞–≤—É –∑ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h4>
                    <input type="number" id="removeDishOrderId" placeholder="ID –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è" style="width: 100%; padding: 10px; margin: 5px 0; border: 2px solid #ddd; border-radius: 5px;">
                    <input type="number" id="removeDishDishId" placeholder="ID —Å—Ç—Ä–∞–≤–∏" style="width: 100%; padding: 10px; margin: 5px 0; border: 2px solid #ddd; border-radius: 5px;">
                    <button onclick="removeDishFromOrder()" style="width: 100%; padding: 12px; background: #fd7e14; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; margin-top: 10px;">–í–∏–¥–∞–ª–∏—Ç–∏ —Å—Ç—Ä–∞–≤—É</button>
                </div>
            `;
        }

        async function removeDishFromOrder() {
            const orderId = document.getElementById('removeDishOrderId').value;
            const dishId = document.getElementById('removeDishDishId').value;

            if (!orderId || !dishId) {
                showNotification('‚ö†Ô∏è –ó–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è!');
                return;
            }

            try {
                const response = await fetch(`/api/orders/${orderId}/dishes/${dishId}`, {
                    method: 'DELETE'
                });

                if (response.ok) {
                    showNotification(`‚úÖ –°—Ç—Ä–∞–≤—É –≤–∏–¥–∞–ª–µ–Ω–æ –∑ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è #${orderId}!`);
                } else {
                    showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Å—Ç—Ä–∞–≤–∏');
                }
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
                showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑\'—î–¥–Ω–∞–Ω–Ω—è');
            }
        }

        // DELETE /api/orders/{id} - –í–∏–¥–∞–ª–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
        function adminShowDeleteOrder() {
            const result = document.getElementById('orderManagementResult');
            result.innerHTML = `
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px;">
                    <h4>üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h4>
                    <input type="number" id="deleteOrderId" placeholder="ID –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è" style="width: 100%; padding: 10px; margin: 5px 0; border: 2px solid #ddd; border-radius: 5px;">
                    <button onclick="deleteOrder()" style="width: 100%; padding: 12px; background: #dc3545; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; margin-top: 10px;">–í–∏–¥–∞–ª–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
                </div>
            `;
        }

        async function deleteOrder() {
            const orderId = document.getElementById('deleteOrderId').value;
            if (!orderId) {
                showNotification('‚ö†Ô∏è –í–≤–µ–¥—ñ—Ç—å ID –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è!');
                return;
            }

            if (!confirm(`–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è #${orderId}?`)) {
                return;
            }

            try {
                const response = await fetch(`/api/orders/${orderId}`, {
                    method: 'DELETE'
                });

                if (response.ok || response.status === 204) {
                    showNotification(`‚úÖ –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è #${orderId} –≤–∏–¥–∞–ª–µ–Ω–æ!`);
                } else {
                    showNotification('‚ùå –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ');
                }
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
                showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑\'—î–¥–Ω–∞–Ω–Ω—è');
            }
        }

        // –î–æ–ø–æ–º—ñ–∂–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è
        function displayOrdersList(orders, title) {
            const content = document.getElementById('adminContent');
            if (orders.length === 0) {
                content.innerHTML = `<p style="text-align: center; color: #666;">–ù–µ–º–∞—î –∑–∞–º–æ–≤–ª–µ–Ω—å</p>`;
                return;
            }
            content.innerHTML = `<h3 style="margin-bottom: 20px;">${title} (${orders.length})</h3>` + generateOrdersHTML(orders);
        }

        // –ü–æ–∫–∞–∑–∞—Ç–∏ –¥–µ—Ç–∞–ª—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
        async function adminShowOrderDetails(orderId) {
            const content = document.getElementById('adminContent');
            content.innerHTML = '<p style="text-align: center;">‚è≥ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–µ—Ç–∞–ª–µ–π...</p>';

            try {
                const response = await fetch(`/api/orders/${orderId}`);
                if (response.ok) {
                    const order = await response.json();
                    content.innerHTML = `
                        <div style="margin-bottom: 20px;">
                            <button onclick="adminShowAllOrders()" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">
                                ‚Üê –ù–∞–∑–∞–¥ –¥–æ –≤—Å—ñ—Ö –∑–∞–º–æ–≤–ª–µ–Ω—å
                            </button>
                        </div>
                        <h3 style="margin-bottom: 20px;">üì¶ –î–µ—Ç–∞–ª—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è ‚Ññ${order.id}</h3>
                        ${generateOrderDetailHTML(order)}
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin-top: 20px;">
                            <button onclick="quickUpdateStatus(${order.id}, 'CONFIRMED')" style="padding: 12px; background: #17a2b8; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">
                                ‚úÖ –ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏
                            </button>
                            <button onclick="quickUpdateStatus(${order.id}, 'PREPARING')" style="padding: 12px; background: #fd7e14; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">
                                üë®‚Äçüç≥ –í –ø—Ä–æ—Ü–µ—Å—ñ –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è
                            </button>
                            <button onclick="quickUpdateStatus(${order.id}, 'DELIVERING')" style="padding: 12px; background: #007bff; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">
                                üöö –í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫—É
                            </button>
                            <button onclick="quickUpdateStatus(${order.id}, 'DELIVERED')" style="padding: 12px; background: #28a745; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">
                                ‚úÖ –î–æ—Å—Ç–∞–≤–ª–µ–Ω–æ
                            </button>
                            <button onclick="quickCancelOrder(${order.id})" style="padding: 12px; background: #dc3545; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">
                                ‚ùå –°–∫–∞—Å—É–≤–∞—Ç–∏
                            </button>
                        </div>
                    `;
                } else {
                    content.innerHTML = '<p style="text-align: center; color: red;">‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–µ—Ç–∞–ª–µ–π</p>';
                }
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
                content.innerHTML = '<p style="text-align: center; color: red;">‚ùå –ü–æ–º–∏–ª–∫–∞ –∑\'—î–¥–Ω–∞–Ω–Ω—è</p>';
            }
        }

        // –®–≤–∏–¥–∫–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É –∑ –¥–µ—Ç–∞–ª–µ–π –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
        async function quickUpdateStatus(orderId, status) {
            try {
                const response = await fetch(`/api/orders/${orderId}/status/${status}`, {
                    method: 'PUT'
                });

                if (response.ok) {
                    showNotification(`‚úÖ –°—Ç–∞—Ç—É—Å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è #${orderId} –æ–Ω–æ–≤–ª–µ–Ω–æ!`);
                    // –û–Ω–æ–≤–∏—Ç–∏ –¥–µ—Ç–∞–ª—ñ
                    adminShowOrderDetails(orderId);
                } else {
                    showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É');
                }
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
                showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑\'—î–¥–Ω–∞–Ω–Ω—è');
            }
        }

        // –®–≤–∏–¥–∫–µ —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –∑ –¥–µ—Ç–∞–ª–µ–π
        async function quickCancelOrder(orderId) {
            if (!confirm(`–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ —Å–∫–∞—Å—É–≤–∞—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è #${orderId}?`)) {
                return;
            }

            try {
                const response = await fetch(`/api/orders/${orderId}/cancel`, {
                    method: 'PUT'
                });

                if (response.ok) {
                    showNotification(`‚úÖ –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è #${orderId} —Å–∫–∞—Å–æ–≤–∞–Ω–æ!`);
                    // –û–Ω–æ–≤–∏—Ç–∏ –¥–µ—Ç–∞–ª—ñ
                    adminShowOrderDetails(orderId);
                } else {
                    showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è');
                }
            } catch (error) {
                console.error('–ü–æ–º–∏–ª–∫–∞:', error);
                showNotification('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑\'—î–¥–Ω–∞–Ω–Ω—è');
            }
        }

        function generateOrdersHTML(orders) {
            const statusColors = {
                'PENDING': '#ffc107', 'CONFIRMED': '#17a2b8', 'PREPARING': '#fd7e14',
                'DELIVERING': '#007bff', 'DELIVERED': '#28a745', 'CANCELLED': '#dc3545'
            };
            const statusNames = {
                'PENDING': '–û—á—ñ–∫—É—î', 'CONFIRMED': '–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ', 'PREPARING': '–ì–æ—Ç—É—î—Ç—å—Å—è',
                'DELIVERING': '–î–æ—Å—Ç–∞–≤–ª—è—î—Ç—å—Å—è', 'DELIVERED': '–î–æ—Å—Ç–∞–≤–ª–µ–Ω–æ', 'CANCELLED': '–°–∫–∞—Å–æ–≤–∞–Ω–æ'
            };

            return orders.map(order => `
                <div style="border: 2px solid #ddd; border-radius: 10px; padding: 15px; margin-bottom: 15px; background: white;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                        <strong style="font-size: 1.1em;">–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è ‚Ññ${order.id}</strong>
                        <span style="background: ${statusColors[order.orderStatus]}; color: white; padding: 5px 12px; border-radius: 15px; font-size: 0.9em;">
                            ${statusNames[order.orderStatus] || order.orderStatus}
                        </span>
                    </div>
                    <p><strong>–ö–ª—ñ—î–Ω—Ç:</strong> ${order.customerName} (${order.customerPhone})</p>
                    <p><strong>–ê–¥—Ä–µ—Å–∞:</strong> ${order.deliveryAddress}</p>
                    <p><strong>–î–∞—Ç–∞:</strong> ${new Date(order.orderDateTime).toLocaleString('uk-UA')}</p>
                    <p><strong>–°—É–º–∞:</strong> ${order.totalAmount} ‚Ç¥</p>
                    <div style="margin-top: 10px;">
                        <button onclick="adminShowOrderDetails(${order.id})" style="padding: 8px 16px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold;">
                            –î–µ—Ç–∞–ª—ñ
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function generateOrderDetailHTML(order) {
            const statusColors = {
                'PENDING': '#ffc107', 'CONFIRMED': '#17a2b8', 'PREPARING': '#fd7e14',
                'DELIVERING': '#007bff', 'DELIVERED': '#28a745', 'CANCELLED': '#dc3545'
            };
            const statusNames = {
                'PENDING': '–û—á—ñ–∫—É—î', 'CONFIRMED': '–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ', 'PREPARING': '–ì–æ—Ç—É—î—Ç—å—Å—è',
                'DELIVERING': '–î–æ—Å—Ç–∞–≤–ª—è—î—Ç—å—Å—è', 'DELIVERED': '–î–æ—Å—Ç–∞–≤–ª–µ–Ω–æ', 'CANCELLED': '–°–∫–∞—Å–æ–≤–∞–Ω–æ'
            };

            return `
                <div style="background: white; padding: 15px; border-radius: 8px; border: 2px solid #ddd;">
                    <h4>–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è ‚Ññ${order.id}</h4>
                    <p><strong>–°—Ç–∞—Ç—É—Å:</strong> <span style="background: ${statusColors[order.orderStatus]}; color: white; padding: 3px 10px; border-radius: 10px;">${statusNames[order.orderStatus]}</span></p>
                    <p><strong>–ö–ª—ñ—î–Ω—Ç:</strong> ${order.customerName}</p>
                    <p><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> ${order.customerPhone}</p>
                    <p><strong>–ê–¥—Ä–µ—Å–∞:</strong> ${order.deliveryAddress}</p>
                    <p><strong>–î–∞—Ç–∞:</strong> ${new Date(order.orderDateTime).toLocaleString('uk-UA')}</p>
                    <p><strong>–¢–∏–ø:</strong> ${order.orderType}</p>
                    <p><strong>–°—É–º–∞:</strong> ${order.totalAmount} ‚Ç¥</p>
                    <div style="margin-top: 15px; padding: 10px; background: #f8f9fa; border-radius: 5px;">
                        <strong>–°—Ç—Ä–∞–≤–∏:</strong>
                        ${order.orderItems.map(item => `
                            <div style="margin-top: 5px;">‚Ä¢ ${item.dish.name} (ID: ${item.dish.id}) √ó ${item.quantity} = ${item.unitPrice * item.quantity} ‚Ç¥</div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // CSS –∞–Ω—ñ–º–∞—Ü—ñ—ó
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(400px); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(400px); opacity: 0; }
            }
            .order-button:disabled {
                background: #ccc !important;
                cursor: not-allowed !important;
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
